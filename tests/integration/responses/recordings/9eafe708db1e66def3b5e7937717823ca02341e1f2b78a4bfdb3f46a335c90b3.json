{
  "test_id": "tests/integration/responses/test_responses_errors.py::TestResponsesAPIStreamingErrors::test_non_vision_model_returns_error_for_image_input[txt=openai/gpt-4o]",
  "request": {
    "method": "POST",
    "url": "https://api.openai.com/v1/v1/chat/completions",
    "headers": {},
    "body": {
      "model": "gpt-4o",
      "messages": [
        {
          "role": "user",
          "content": [
            {
              "type": "text",
              "text": "Describe this image"
            },
            {
              "type": "image_url",
              "image_url": {
                "url": "https://example.com/test.jpg",
                "detail": "auto"
              }
            }
          ]
        }
      ],
      "stream": true,
      "stream_options": {
        "include_usage": true
      }
    },
    "endpoint": "/v1/chat/completions",
    "model": "gpt-4o"
  },
  "response": {
    "body": null,
    "is_streaming": false,
    "is_exception": true,
    "exception_data": {
      "category": "provider_sdk",
      "provider": "openai",
      "type": "BadRequestError",
      "message": "Error code: 400 - {'error': {'message': 'Error while downloading https://example.com/test.jpg.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_image_url'}}",
      "status_code": 400,
      "body": {
        "message": "Error while downloading https://example.com/test.jpg.",
        "type": "invalid_request_error",
        "param": null,
        "code": "invalid_image_url"
      }
    },
    "exception_message": "Error code: 400 - {'error': {'message': 'Error while downloading https://example.com/test.jpg.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_image_url'}}"
  },
  "id_normalization_mapping": {}
}
